<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MagicMD</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* Specific CSS for Non-Enhanced Mode */
        body {
            background-color: #121212; /* Dark Mode */
            color: #ffffff; /* Text color for Dark Mode */
            font-family: 'Helvetica Neue', sans-serif; /* Set default font */
        }
        
        /* Box around the MD text body */
        #contentArea {
            border: 1px solid #888888;
            padding: 10px;
            overflow-y: auto;
            max-height: 600px; /* Example max height, can adjust based on requirements */
        }
    </style>
</head>
<body>

<h1 id="main-heading">Welcome to MagicMD!</h1>

<!-- Console output area -->
<div id="consoleOutput" class="console-output"></div>

<!-- List of MD files -->
<p id="md-selection-text">Select an MD file to view:</p>
<div id="MD-files-list" role="listbox" aria-label="Markdown files list"></div>

<!-- Activation button for MagicMD -->
<button id="activate-magic" onclick="activateMagicMD()">Activate MagicMD</button>
<!-- Development only Unmagic button -->
<button id="deactivate-magic" onclick="deactivateMagicMD()" style="display:none;">Unmagic (Dev Only)</button>

<!-- Placeholder for the rendered content -->
<div id="contentArea"></div>

<!-- Libraries and External Dependencies -->
<script src="libs/marked/marked.min.js"></script>

<!-- Custom Scripts -->
<script src="js/loadMDfile.js"></script>
<script src="js/listMDfiles.js"></script>
<script src="js/magicMD.js"></script>

<script>
    function logToConsole(message) {
        const consoleDiv = document.getElementById("consoleOutput");
        const timestamp = new Date().toLocaleTimeString();
        consoleDiv.innerHTML += `[${timestamp}] ${message}<br>`;
        consoleDiv.scrollTop = consoleDiv.scrollHeight;
    }

    function activateMagicMD() {
        // Hide elements, making them "virtualized"
        document.getElementById('main-heading').style.display = 'none';
        document.getElementById('MD-files-list').style.display = 'none';
        document.getElementById('contentArea').style.display = 'none';
        document.getElementById('activate-magic').style.display = 'none';
        document.getElementById('md-selection-text').style.display = 'none';
        
        // Show the dev-only Unmagic button
        document.getElementById('deactivate-magic').style.display = 'block';

        logToConsole("MagicMD activated!");
    }

    function deactivateMagicMD() {
        // Display the original content for non-enhanced mode
        document.getElementById('main-heading').style.display = 'block';
        document.getElementById('MD-files-list').style.display = 'block';
        document.getElementById('contentArea').style.display = 'block';
        document.getElementById('activate-magic').style.display = 'block';
        document.getElementById('md-selection-text').style.display = 'block';

        // Hide the Unmagic button
        document.getElementById('deactivate-magic').style.display = 'none'; 

        logToConsole("MagicMD deactivated (Dev Only)!");
    }
</script>

</body>
</html>
